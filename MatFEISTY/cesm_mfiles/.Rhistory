install.packages("ncdump")
NetCDF(/Volumes/NEP6/Run22)
NetCDF(/Volumes/NEP6/Run22/)
NetCDF("/Volumes/NEP6/Run22/")
ncdump("/Volumes/NEP6/Run22/nep6_avg_00005.nc")
?ncdump
rm(list=ls())
library(ggplot2)
library(RColorBrewer)
source(file = "/Users/cpetrik/Dropbox/ImptDocs/R_stats/multiplot.r")
setwd("/Volumes/FEISTY/Fish-MIP/CMIP6/")
eff <- read.csv("Effort_PelDem_by_FGroup_AreaV4.csv",sep=",",header = T,stringsAsFactors = F)
names(eff)
head(eff)
levels(eff$FGroup)
unique(eff$FGroup)
cat <- read.csv("Catch_PelDem_by_FGroup_AreaV4.csv",sep=",",header = T,stringsAsFactors = F)
library(plyr)
lme <- ddply( LMEnbr, .( FGroup, Year ), summarize,
tEffRep = sum( as.numeric(NomEffReported), na.rm = TRUE ),
tEffIUU = sum( as.numeric(NomEffIUU), na.rm = TRUE ),
tArea = sum( as.numeric(AreaSqKm2), na.rm = TRUE ),
tCells = sum( as.numeric(NbrCells), na.rm = TRUE ))
lme <- ddply( eff, .( LMEnbr, FGroup, Year ), summarize,
tEffRep = sum( as.numeric(NomEffReported), na.rm = TRUE ),
tEffIUU = sum( as.numeric(NomEffIUU), na.rm = TRUE ),
tArea = sum( as.numeric(AreaSqKm2), na.rm = TRUE ),
tCells = sum( as.numeric(NbrCells), na.rm = TRUE ))
View(lme)
lme$tEff <- lme$tEffIUU + lme$tEffRep
lmee <- lme
names(cat)
unique(cat$FGroup)
lmec <- ddply( cat, .( LMEnbr, FGroup, Year ), summarize,
tCatRep = sum( as.numeric(Reported), na.rm = TRUE ),
tCatIUU = sum( as.numeric(IUUs), na.rm = TRUE ),
tArea = sum( as.numeric(AreaSqKm2), na.rm = TRUE ),
tCells = sum( as.numeric(NbrCells), na.rm = TRUE ))
View(lmec)
lmec$tCatch <- lmec$tCatIUU + lmec$tCatRep
View(lmec)
View(lmec)
write.table
write.table(lmee,"Total_effort_Fgroup_LME_year.csv",sep=",",row.names=F)
write.table(lmec,"Total_catch_Fgroup_LME_year.csv",sep=",",row.names=F)
Flmee <- subset(lmee,FGroup=="pelagic<30cm")
Plmee <- subset(lmee,FGroup %in% c("pelagic>=90cm","pelagic30-90cm"))
4363*2
Dlmee <- subset(lmee,FGroup %in% c("demersal>=90cm","demersal30-90cm"))
View(Dlmee)
Flmec <- subset(lmec,FGroup=="pelagic<30cm")
Plmec <- subset(lmec,FGroup %in% c("pelagic>=90cm","pelagic30-90cm"))
Dlmec <- subset(lmec,FGroup %in% c("demersal>=90cm","demersal30-90cm"))
write.table(Flmee,"Total_effort_F_LME_year.csv",sep=",",row.names=F)
write.table(Flmec,"Total_catch_F_LME_year.csv",sep=",",row.names=F)
write.table(Plmee,"Total_effort_P_LME_year.csv",sep=",",row.names=F)
write.table(Plmec,"Total_catch_P_LME_year.csv",sep=",",row.names=F)
write.table(Dlmee,"Total_effort_D_LME_year.csv",sep=",",row.names=F)
write.table(Dlmec,"Total_catch_D_LME_year.csv",sep=",",row.names=F)
rm(list=ls())
source(file = "/Users/cpetrik/Dropbox/UCSC/CVC-LCM/CVC_data/outmigration_model/HighstatLibV6.r")
setwd("/Users/cpetrik/Dropbox/Princeton/FEISTY/CODE/fish-offline/MatFEISTY/cesm_mfiles/")
library(Hmisc)
library(ggplot2)
library(gridExtra)
library(corrgram)
library(scatterplot3d)
library(rpart)
library(tree)
library(pvclust)
library(mclust)
library(dendextend)
library(gplots)
library("corrplot")
library(scico)
library(reshape2)
### -------------------------------- Raw 4rt -------------------------------
# load data
ddir <- "/Volumes/MIP/NC/CESM_MAPP/Dc_Lam700_enc70-b200_m400-b175-k086_c20-b250_D075_A050_sMZ090_mMZ045_nmort1_BE08_CC80_RE00100/"
sigS <- read.csv(paste0(ddir,"LME_fosi_fished_v14_All_fish03_sigS.csv"),sep=",",header = F,stringsAsFactors = T)
View(sigS)
names(sigS) <- c("LME","climate","lag","rcorr","pval")
View(sigS)
frval3 <- melt(sig3)
frval3 <- melt(sigS)
View(frval3)
sigS[6] <- "S"
View(sigS)
rm(list=ls())
source(file = "/Users/cpetrik/Dropbox/UCSC/CVC-LCM/CVC_data/outmigration_model/HighstatLibV6.r")
setwd("/Users/cpetrik/Dropbox/Princeton/FEISTY/CODE/fish-offline/MatFEISTY/cesm_mfiles/")
library(Hmisc)
### -------------------------------- Raw 4rt -------------------------------
# load data
ddir <- "/Volumes/MIP/NC/CESM_MAPP/Dc_Lam700_enc70-b200_m400-b175-k086_c20-b250_D075_A050_sMZ090_mMZ045_nmort1_BE08_CC80_RE00100/"
sigS <- read.csv(paste0(ddir,"LME_fosi_fished_v14_All_fish03_sigS.csv"),sep=",",header = F,stringsAsFactors = T)
sigM <- read.csv(paste0(ddir,"LME_fosi_fished_v14_All_fish03_sigM.csv"),sep=",",header = F,stringsAsFactors = T)
sigL <- read.csv(paste0(ddir,"LME_fosi_fished_v14_All_fish03_sigL.csv"),sep=",",header = F,stringsAsFactors = T)
sigF <- read.csv(paste0(ddir,"LME_fosi_fished_v14_All_fish03_sigF.csv"),sep=",",header = F,stringsAsFactors = T)
sigP <- read.csv(paste0(ddir,"LME_fosi_fished_v14_All_fish03_sigP.csv"),sep=",",header = F,stringsAsFactors = T)
sigD <- read.csv(paste0(ddir,"LME_fosi_fished_v14_All_fish03_sigD.csv"),sep=",",header = F,stringsAsFactors = T)
sigA <- read.csv(paste0(ddir,"LME_fosi_fished_v14_All_fish03_sigA.csv"),sep=",",header = F,stringsAsFactors = T)
sigB <- read.csv(paste0(ddir,"LME_fosi_fished_v14_All_fish03_sigB.csv"),sep=",",header = F,stringsAsFactors = T)
sigS[6] <- "S"
sigM[6] <- "M"
sigL[6] <- "L"
sigF[6] <- "F"
sigP[6] <- "P"
sigD[6] <- "D"
sigA[6] <- "A"
sigB[6] <- "B"
names(sigS) <- c("LME","climate","lag","rcorr","pval","type")
names(sigM) <- c("LME","climate","lag","rcorr","pval","type")
names(sigL) <- c("LME","climate","lag","rcorr","pval","type")
names(sigF) <- c("LME","climate","lag","rcorr","pval","type")
names(sigP) <- c("LME","climate","lag","rcorr","pval","type")
names(sigD) <- c("LME","climate","lag","rcorr","pval","type")
names(sigA) <- c("LME","climate","lag","rcorr","pval","type")
names(sigB) <- c("LME","climate","lag","rcorr","pval","type")
View(sigS)
sigALL <- merge(sigS,sigM,by=c("LME","climate","lag"))
View(sigALL)
sigS <- read.csv(paste0(ddir,"LME_fosi_fished_v14_All_fish03_sigS.csv"),sep=",",header = F,stringsAsFactors = T)
sigM <- read.csv(paste0(ddir,"LME_fosi_fished_v14_All_fish03_sigM.csv"),sep=",",header = F,stringsAsFactors = T)
sigL <- read.csv(paste0(ddir,"LME_fosi_fished_v14_All_fish03_sigL.csv"),sep=",",header = F,stringsAsFactors = T)
sigF <- read.csv(paste0(ddir,"LME_fosi_fished_v14_All_fish03_sigF.csv"),sep=",",header = F,stringsAsFactors = T)
sigP <- read.csv(paste0(ddir,"LME_fosi_fished_v14_All_fish03_sigP.csv"),sep=",",header = F,stringsAsFactors = T)
sigD <- read.csv(paste0(ddir,"LME_fosi_fished_v14_All_fish03_sigD.csv"),sep=",",header = F,stringsAsFactors = T)
sigA <- read.csv(paste0(ddir,"LME_fosi_fished_v14_All_fish03_sigA.csv"),sep=",",header = F,stringsAsFactors = T)
sigB <- read.csv(paste0(ddir,"LME_fosi_fished_v14_All_fish03_sigB.csv"),sep=",",header = F,stringsAsFactors = T)
names(sigS) <- c("LME","climate","lag","rS","pS")#,"type")
names(sigM) <- c("LME","climate","lag","rM","pM")#,"type")
names(sigL) <- c("LME","climate","lag","rL","pL")#,"type")
names(sigF) <- c("LME","climate","lag","rF","pF")#,"type")
names(sigP) <- c("LME","climate","lag","rP","pP")#,"type")
names(sigD) <- c("LME","climate","lag","rD","pD")#,"type")
names(sigA) <- c("LME","climate","lag","rA","pA")#,"type")
names(sigB) <- c("LME","climate","lag","rB","pB")#,"type")
sigALL <- merge(sigS,sigM,by=c("LME","climate","lag"))
View(sigALL)
sigALL <- merge(sigS,sigM,by=c("LME","climate","lag"),all=T)
View(sigALL)
sig1 <- merge(sigS,sigM,by=c("LME","climate","lag"),all=T)
sig2 <- merge(sig1,sigL,by=c("LME","climate","lag"),all=T)
sig3 <- merge(sig2,sigF,by=c("LME","climate","lag"),all=T)
sig4 <- merge(sig3,sigP,by=c("LME","climate","lag"),all=T)
sig5 <- merge(sig4,sigD,by=c("LME","climate","lag"),all=T)
sig6 <- merge(sig5,sigA,by=c("LME","climate","lag"),all=T)
sigALL <- merge(sig6,sigB,by=c("LME","climate","lag"),all=T)
View(sigALL)
?subset
sigCHK <- subset(sigALL, LME=="CHK")
View(sigCHK)
View(sigCHK)
sigEBS <- subset(sigALL, LME=="EBS")
sigGAK <- subset(sigALL, LME=="GAK")
sigCCE <- subset(sigALL, LME=="CCE")
sigHI <- subset(sigALL, LME=="HI")
sigGMX <- subset(sigALL, LME=="GMX")
sigSE <- subset(sigALL, LME=="SE")
sigNE <- subset(sigALL, LME=="NE")
View(sigCCE)
View(sigCCE)
View(sigEBS)
View(sigHI)
View(sigHI)
write.table(sigCHK,paste0(ddir,"LME_fosi_fished_v14_All_fish03_sig_climate_corrs_CHK.csv"),sep=",",row.names=F)
write.table(sigEBS,paste0(ddir,"LME_fosi_fished_v14_All_fish03_sig_climate_corrs_EBS.csv"),sep=",",row.names=F)
write.table(sigGAK,paste0(ddir,"LME_fosi_fished_v14_All_fish03_sig_climate_corrs_GAK.csv"),sep=",",row.names=F)
write.table(sigCCE,paste0(ddir,"LME_fosi_fished_v14_All_fish03_sig_climate_corrs_CCE.csv"),sep=",",row.names=F)
write.table(sigHI,paste0(ddir,"LME_fosi_fished_v14_All_fish03_sig_climate_corrs_HI.csv"),sep=",",row.names=F)
write.table(sigGMX,paste0(ddir,"LME_fosi_fished_v14_All_fish03_sig_climate_corrs_GMX.csv"),sep=",",row.names=F)
write.table(sigSE,paste0(ddir,"LME_fosi_fished_v14_All_fish03_sig_climate_corrs_SE.csv"),sep=",",row.names=F)
write.table(sigNE,paste0(ddir,"LME_fosi_fished_v14_All_fish03_sig_climate_corrs_NE.csv"),sep=",",row.names=F)
